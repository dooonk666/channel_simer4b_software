# 帧数据调试指南

## 快速开始

### 1. 运行主程序
```bash
python main.py
```

### 2. 导入 JSON 配置
- 点击"导入配置"按钮
- 选择你的 JSON 文件
- **控制台会打印**：从 JSON 读取的原始数据

### 3. 应用配置
- 点击"应用配置"按钮
- **控制台会打印**：
  - 每条多径的参数转换详情
  - 生成的完整帧数据（十六进制）
  - 帧结构解析
  - 关键子帧详情

---

## 输出示例

当你导入并应用配置时，终端会显示类似以下内容：

```
============================================================
【从JSON读取的数据】
文件路径: D:\config.json
总cluster数量: 2
------------------------------------------------------------
Cluster 0: delay=1e-07s, power=1.0
Cluster 1: delay=5e-07s, power=0.5
============================================================

============================================================
【应用配置 - 参数转换详情】
输入端口: 0, 输出端口: 0
配置cluster数量: 2
------------------------------------------------------------
多径0: delay=1e-07s -> 20周期, power=1.0 -> k=32768 (衰减-0.00dB)
多径1: delay=5e-07s -> 100周期, power=0.5 -> k=23170 (衰减3.01dB)
------------------------------------------------------------
【生成的完整帧数据】
帧总长度: 42 字节
帧完整内容 (hex): fdb1854022000201000001030200001400070200000080020100010103020001640007020001825aae86
------------------------------------------------------------
帧结构解析:
  帧头 (4字节): fdb18540 (固定为 fd b1 85 40)
  帧长 (2字节): 2200 (小端值=34字节)
  数据部分 (34字节): 0201000001030200001400070200000080020100010103020001640007020001825a
  帧尾 (2字节): ae86 (固定为 ae 86)
------------------------------------------------------------
关键子帧详情 (前3个多径的使能、时延、衰减):
  多径0-使能: 0201000001
    └─ ID=02, 字节数=1, 端口=00, 路径=00, 值=1
  多径0-时延: 030200001400
    └─ ID=03, 字节数=2, 端口=00, 路径=00, 值=20
  多径0-衰减: 070200000080
    └─ ID=07, 字节数=2, 端口=00, 路径=00, 值=32768
============================================================
```

---

## 独立演示脚本

如果你想独立查看帧结构示例（无需连接设备），可以运行：

```bash
python show_frame_structure.py
```

这会生成一个2条多径的示例，并详细展示：
- JSON 原始数据
- 参数转换过程
- 子帧结构
- 完整帧分解
- 数据部分子帧列表

---

## 查看详细文档

查看 `FRAME_STRUCTURE.md` 了解：
- 完整的帧结构规范
- JSON 配置格式
- 参数转换公式
- ID 对照表
- 常见问题

---

## 注意事项

1. **确保终端可见**：打印输出会显示在运行程序的终端窗口
2. **小端序**：所有多字节数值使用小端序
3. **最大24条多径**：超过的会被忽略
4. **时钟周期为5ns**：延迟转换基于此值

---

**提示**：如果你想保存帧数据到文件，可以在运行时重定向输出：
```bash
python main.py > output.log 2>&1
```

