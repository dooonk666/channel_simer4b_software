# Git ä½¿ç”¨æŒ‡å— - å¿«é€Ÿä¸Šæ‰‹

## ğŸ“‹ ç›®å½•
- [æ—¥å¸¸æäº¤å·¥ä½œæµ](#æ—¥å¸¸æäº¤å·¥ä½œæµ)
- [ç‰ˆæœ¬å›é€€æ“ä½œ](#ç‰ˆæœ¬å›é€€æ“ä½œ)
- [åˆ†æ”¯ç®¡ç†ç­–ç•¥](#åˆ†æ”¯ç®¡ç†ç­–ç•¥)
- [å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥](#å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥)

---

## ğŸ”„ æ—¥å¸¸æäº¤å·¥ä½œæµ

### ä¿®æ”¹ä»£ç åæäº¤åˆ°è¿œç¨‹ä»“åº“

```bash
# 1. æŸ¥çœ‹ä¿®æ”¹äº†å“ªäº›æ–‡ä»¶
git status

# 2. æ·»åŠ æ‰€æœ‰ä¿®æ”¹çš„æ–‡ä»¶åˆ°æš‚å­˜åŒº
git add .

# æˆ–è€…åªæ·»åŠ ç‰¹å®šæ–‡ä»¶
git add main.py UI/MainWindow.py

# 3. æäº¤åˆ°æœ¬åœ°ä»“åº“ï¼ˆå†™æ¸…æ¥šæ”¹äº†ä»€ä¹ˆï¼‰
git commit -m "ä¿®å¤äº†24è·¯å¤šå¾„é…ç½®bug"

# 4. æ¨é€åˆ°è¿œç¨‹ä»“åº“
git push origin master
```

**âš ï¸ æ¨é€å‰çš„å¥½ä¹ æƒ¯ï¼š**
```bash
# å…ˆæ‹‰å–è¿œç¨‹æœ€æ–°ä»£ç ï¼Œé¿å…å†²çª
git pull --rebase origin master

# ç„¶åå†æ¨é€
git push origin master
```

---

## âª ç‰ˆæœ¬å›é€€æ“ä½œ

### åœºæ™¯1ï¼šè¿˜æ²¡ commitï¼Œæƒ³æ”¾å¼ƒæœ¬åœ°ä¿®æ”¹

```bash
# æŸ¥çœ‹å“ªäº›æ–‡ä»¶è¢«ä¿®æ”¹äº†
git status

# æ”¾å¼ƒæŸä¸ªæ–‡ä»¶çš„ä¿®æ”¹
git restore main.py

# æ”¾å¼ƒæ‰€æœ‰ä¿®æ”¹ï¼ˆå±é™©âš ï¸ï¼‰
git restore .
```

### åœºæ™¯2ï¼šå·²ç» commit ä½†è¿˜æ²¡ pushï¼Œæƒ³æ’¤é”€æäº¤

```bash
# æ’¤é”€æœ€è¿‘ä¸€æ¬¡æäº¤ï¼Œä½†ä¿ç•™ä»£ç ä¿®æ”¹
git reset --soft HEAD~1

# æ’¤é”€æœ€è¿‘ä¸€æ¬¡æäº¤ï¼Œå¹¶ä¸¢å¼ƒä»£ç ä¿®æ”¹ï¼ˆå±é™©âš ï¸ï¼‰
git reset --hard HEAD~1
```

### åœºæ™¯3ï¼šå·²ç» push åˆ°è¿œç¨‹ï¼Œæƒ³å›é€€åˆ°ä¹‹å‰çš„ç‰ˆæœ¬

```bash
# 1. æŸ¥çœ‹æäº¤å†å²ï¼Œæ‰¾åˆ°æƒ³å›é€€çš„ç‰ˆæœ¬å·
git log --oneline -10

# è¾“å‡ºç¤ºä¾‹ï¼š
# 4526de7 (HEAD -> master) Add .gitignore
# c39ec57 å°å°ä¿®æ”¹ï¼Ÿ
# b228a26 first commit

# 2. å›é€€åˆ°æŒ‡å®šç‰ˆæœ¬ï¼ˆä¿ç•™ä¹‹åçš„æäº¤è®°å½•ï¼Œæ¨èâœ…ï¼‰
git revert c39ec57

# 3. æˆ–è€…å¼ºåˆ¶å›é€€ï¼ˆä¼šåˆ é™¤ä¹‹åçš„æäº¤ï¼Œå±é™©âš ï¸ï¼‰
git reset --hard b228a26
git push --force origin master
```

### åœºæ™¯4ï¼šä»è¿œç¨‹æ‹‰å–æœ€æ–°ä»£ç 

```bash
# æ‹‰å–å¹¶åˆå¹¶è¿œç¨‹ä»£ç 
git pull origin master

# æ‹‰å–å¹¶å˜åŸºï¼ˆæ¨èï¼Œå†å²æ›´å¹²å‡€ï¼‰
git pull --rebase origin master
```

### åœºæ™¯5ï¼šæŸ¥çœ‹æŸä¸ªå†å²ç‰ˆæœ¬çš„ä»£ç ï¼ˆä¸å½±å“å½“å‰åˆ†æ”¯ï¼‰

```bash
# 1. æŸ¥çœ‹æäº¤å†å²
git log --oneline --graph --all

# 2. ä¸´æ—¶åˆ‡æ¢åˆ°æŸä¸ªå†å²ç‰ˆæœ¬æŸ¥çœ‹
git checkout b228a26

# 3. æŸ¥çœ‹å®Œåï¼Œåˆ‡å›æœ€æ–°ç‰ˆæœ¬
git checkout master
```

---

## ğŸŒ¿ åˆ†æ”¯ç®¡ç†ç­–ç•¥

### ä¸ºä»€ä¹ˆè¦ç”¨åˆ†æ”¯ï¼Ÿ

- **master/main åˆ†æ”¯**ï¼šå­˜æ”¾ç¨³å®šçš„ã€å¯å‘å¸ƒçš„ä»£ç 
- **develop åˆ†æ”¯**ï¼šæ—¥å¸¸å¼€å‘åˆ†æ”¯
- **feature åˆ†æ”¯**ï¼šå¼€å‘æ–°åŠŸèƒ½
- **hotfix åˆ†æ”¯**ï¼šç´§æ€¥ä¿®å¤bug

### æ¨èçš„å·¥ä½œæµç¨‹

```bash
# 1. ä» master åˆ›å»ºæ–°åŠŸèƒ½åˆ†æ”¯
git checkout -b feature/add-24-paths

# 2. åœ¨æ–°åˆ†æ”¯ä¸Šå¼€å‘å’Œæäº¤
git add .
git commit -m "å®ç°24è·¯å¤šå¾„æ”¯æŒ"

# 3. æ¨é€æ–°åˆ†æ”¯åˆ°è¿œç¨‹
git push origin feature/add-24-paths

# 4. å¼€å‘å®Œæˆåï¼Œåˆ‡å› master å¹¶åˆå¹¶
git checkout master
git merge feature/add-24-paths

# 5. æ¨é€åˆ°è¿œç¨‹
git push origin master

# 6. åˆ é™¤å·²åˆå¹¶çš„åŠŸèƒ½åˆ†æ”¯
git branch -d feature/add-24-paths
git push origin --delete feature/add-24-paths
```

### åˆ†æ”¯å‘½åè§„èŒƒ

```
feature/åŠŸèƒ½æè¿°      # æ–°åŠŸèƒ½ï¼Œå¦‚ï¼šfeature/add-rayleigh-fading
bugfix/bugæè¿°       # ä¿®å¤bugï¼Œå¦‚ï¼šbugfix/fix-path-delay
hotfix/ç´§æ€¥ä¿®å¤      # ç´§æ€¥ä¿®å¤ï¼Œå¦‚ï¼šhotfix/critical-crash
release/ç‰ˆæœ¬å·       # å‘å¸ƒç‰ˆæœ¬ï¼Œå¦‚ï¼šrelease/v1.0.0
```

### å°å‹é¡¹ç›®çš„ç®€åŒ–ç­–ç•¥

```bash
# å¦‚æœåªæœ‰ä½ ä¸€ä¸ªäººå¼€å‘ï¼Œå¯ä»¥ç®€åŒ–ä¸ºï¼š
master åˆ†æ”¯ - ç¨³å®šç‰ˆæœ¬
develop åˆ†æ”¯ - æ—¥å¸¸å¼€å‘

# å·¥ä½œæµç¨‹ï¼š
# 1. åœ¨ develop ä¸Šå¼€å‘
git checkout develop
# ... ä¿®æ”¹ä»£ç  ...
git add .
git commit -m "æ–°åŠŸèƒ½"
git push origin develop

# 2. æµ‹è¯•ç¨³å®šåï¼Œåˆå¹¶åˆ° master
git checkout master
git merge develop
git push origin master
```

---

## ğŸ“ å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

### æŸ¥çœ‹çŠ¶æ€å’Œå†å²

```bash
git status                           # æŸ¥çœ‹å½“å‰çŠ¶æ€
git log --oneline -10               # æŸ¥çœ‹æœ€è¿‘10æ¬¡æäº¤
git log --oneline --graph --all     # å›¾å½¢åŒ–æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯
git diff                            # æŸ¥çœ‹æœªæš‚å­˜çš„ä¿®æ”¹
git diff --staged                   # æŸ¥çœ‹å·²æš‚å­˜çš„ä¿®æ”¹
```

### åˆ†æ”¯æ“ä½œ

```bash
git branch                          # æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯
git branch -a                       # æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯ï¼ˆå«è¿œç¨‹ï¼‰
git checkout -b new-branch          # åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ–°åˆ†æ”¯
git checkout master                 # åˆ‡æ¢åˆ° master åˆ†æ”¯
git branch -d branch-name           # åˆ é™¤æœ¬åœ°åˆ†æ”¯
git push origin --delete branch     # åˆ é™¤è¿œç¨‹åˆ†æ”¯
```

### æš‚å­˜ä¿®æ”¹ï¼ˆä¸´æ—¶ä¿å­˜ï¼‰

```bash
git stash                           # æš‚å­˜å½“å‰ä¿®æ”¹
git stash list                      # æŸ¥çœ‹æš‚å­˜åˆ—è¡¨
git stash pop                       # æ¢å¤æœ€è¿‘ä¸€æ¬¡æš‚å­˜
git stash apply stash@{0}           # æ¢å¤æŒ‡å®šæš‚å­˜
```

### è¿œç¨‹ä»“åº“æ“ä½œ

```bash
git remote -v                       # æŸ¥çœ‹è¿œç¨‹ä»“åº“åœ°å€
git fetch origin                    # æ‹‰å–è¿œç¨‹æ›´æ–°ä½†ä¸åˆå¹¶
git pull origin master              # æ‹‰å–å¹¶åˆå¹¶è¿œç¨‹ master
git push origin master              # æ¨é€åˆ°è¿œç¨‹ master
```

### æ’¤é”€å’Œä¿®æ”¹

```bash
git restore file.py                 # æ”¾å¼ƒæ–‡ä»¶ä¿®æ”¹
git restore --staged file.py        # å–æ¶ˆæš‚å­˜
git commit --amend                  # ä¿®æ”¹æœ€è¿‘ä¸€æ¬¡æäº¤ä¿¡æ¯
git reset --soft HEAD~1             # æ’¤é”€æäº¤ä½†ä¿ç•™ä¿®æ”¹
git reset --hard HEAD~1             # æ’¤é”€æäº¤å¹¶åˆ é™¤ä¿®æ”¹âš ï¸
```

---

## ğŸ¯ å®æˆ˜ç»ƒä¹ åœºæ™¯

### ç»ƒä¹ 1ï¼šåˆ›å»ºåŠŸèƒ½åˆ†æ”¯å¼€å‘æ–°åŠŸèƒ½

```bash
# åˆ›å»ºæ–°åˆ†æ”¯å¼€å‘åŠŸèƒ½
git checkout -b feature/improve-ui

# ä¿®æ”¹ä»£ç ...
git add .
git commit -m "æ”¹è¿›UIå¸ƒå±€"

# æ¨é€åˆ°è¿œç¨‹
git push origin feature/improve-ui

# åˆå¹¶å› master
git checkout master
git merge feature/improve-ui
git push origin master
```

### ç»ƒä¹ 2ï¼šæ¨¡æ‹Ÿä»£ç å†™åå¹¶å›é€€

```bash
# æ•…æ„ä¿®æ”¹ä¸€ä¸ªæ–‡ä»¶å†™å
# ç„¶åæŸ¥çœ‹ä¿®æ”¹
git diff

# æ”¾å¼ƒä¿®æ”¹
git restore main.py

# æˆ–è€…å¦‚æœå·²ç»æäº¤äº†
git reset --hard HEAD~1
```

### ç»ƒä¹ 3ï¼šæš‚å­˜å½“å‰å·¥ä½œåˆ‡æ¢ä»»åŠ¡

```bash
# æ­£åœ¨å¼€å‘åŠŸèƒ½ï¼Œçªç„¶è¦ä¿®å¤bug
git stash

# åˆ‡æ¢åˆ° master ä¿®å¤bug
git checkout master
# ... ä¿®å¤bugå¹¶æäº¤ ...

# å›åˆ°åŸæ¥çš„å·¥ä½œ
git checkout feature/improve-ui
git stash pop
```

---

## âš ï¸ å±é™©æ“ä½œè­¦å‘Š

ä»¥ä¸‹å‘½ä»¤ä¼š**æ°¸ä¹…åˆ é™¤**ä»£ç ï¼Œä½¿ç”¨å‰åŠ¡å¿…ç¡®è®¤ï¼š

```bash
git reset --hard HEAD~1             # åˆ é™¤æœ€è¿‘ä¸€æ¬¡æäº¤
git push --force                    # å¼ºåˆ¶æ¨é€ï¼ˆä¼šè¦†ç›–è¿œç¨‹ï¼‰
git clean -fd                       # åˆ é™¤æœªè·Ÿè¸ªçš„æ–‡ä»¶
git restore .                       # æ”¾å¼ƒæ‰€æœ‰ä¿®æ”¹
```

**å»ºè®®**ï¼šåœ¨æ‰§è¡Œå±é™©æ“ä½œå‰ï¼Œå…ˆå¤‡ä»½ä»£ç ï¼

---

## ğŸ“š è¿›é˜¶å­¦ä¹ èµ„æº

- [Git å®˜æ–¹æ–‡æ¡£ï¼ˆä¸­æ–‡ï¼‰](https://git-scm.com/book/zh/v2)
- [Learn Git Branchingï¼ˆäº’åŠ¨æ•™ç¨‹ï¼‰](https://learngitbranching.js.org/?locale=zh_CN)
- [GitHub å®˜æ–¹æŒ‡å—](https://docs.github.com/cn)

---

## ğŸ’¡ æœ€ä½³å®è·µæ€»ç»“

1. âœ… **æäº¤å‰å…ˆæ‹‰å–**ï¼š`git pull --rebase` é¿å…å†²çª
2. âœ… **å†™æ¸…æ¥š commit ä¿¡æ¯**ï¼šè¯´æ˜æ”¹äº†ä»€ä¹ˆã€ä¸ºä»€ä¹ˆæ”¹
3. âœ… **é¢‘ç¹å°æäº¤**ï¼šæ¯”å¤§æ”¹ä¸€æ¬¡æ€§æäº¤æ›´å®‰å…¨
4. âœ… **ä½¿ç”¨åˆ†æ”¯å¼€å‘**ï¼šmaster ä¿æŒç¨³å®š
5. âœ… **å®šæœŸæ¨é€åˆ°è¿œç¨‹**ï¼šé¿å…ä»£ç ä¸¢å¤±
6. âœ… **ä¸æäº¤æ•æ„Ÿä¿¡æ¯**ï¼šå¯†ç ã€å¯†é’¥ç­‰
7. âœ… **éµå®ˆ .gitignore**ï¼šä¸æäº¤ä¸´æ—¶æ–‡ä»¶ã€æ„å»ºäº§ç‰©

---

**è®°ä½**ï¼šGit çš„æ ¸å¿ƒæ˜¯**ç‰ˆæœ¬æ§åˆ¶**å’Œ**åä½œå¼€å‘**ï¼Œå¤šç»ƒä¹ å°±èƒ½ç†Ÿç»ƒæŒæ¡ï¼ğŸš€

